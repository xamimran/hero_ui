<!DOCTYPE html>
<html>

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link rel="stylesheet" href="../output.css" />
  <link
    rel="shortcut icon"
    href="../assets/images/svg/solo-tick.svg"
    type="image/x-icon"
  />
  <link
    rel="stylesheet"
    type="text/css"
    href="https://cdn.jsdelivr.net/npm/slick-carousel@1.8.1/slick/slick.css"
  />
  <link
    rel="stylesheet"
    type="text/css"
    href="https://cdn.jsdelivr.net/npm/slick-carousel@1.8.1/slick/slick-theme.css"
  />
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
  <script
    src="https://cdnjs.cloudflare.com/ajax/libs/slick-carousel/1.9.0/slick.min.js"
    integrity="sha512-HGOnQO9+SP1V92SrtZfjqxxtLmVzqZpjFFekvzZVWoiASSQgSr4cw9Kqd2+l8Llp4Gm0G8GIFJ4ddwZilcdb8A=="
    crossorigin="anonymous"
    referrerpolicy="no-referrer"
  ></script>

  <title>Buddy Host</title>
</head>
  <body>
    <section
id="counterSection"
class="bg-[url('../assets/images/png/publish-bg.png')] bg-cover bg-secondary py-11"
>
<div class="custom_container">
  <span class="common-tag !bg-white !text-secondary">Build to scale</span>
  <h2
    id="counter"
    class="text-4xl md:text-5xl lg:text-[52px] xl:text-6xl font-LufgaBlack text-center text-white mb-2 mt-3 leading-[110%]"
  >
    0+
  </h2>
  <p class="text-base sm:text-lg xl:text-xl text-white text-center">
    Pageviews across all links
  </p>
</div>
<script>
  // FUNCTION TO CHECK IF THE ELEMENT IS IN THE VIEWPORT
  function isInViewport(element) {
    const rect = element.getBoundingClientRect();
    return (
      rect.top >= 0 &&
      rect.left >= 0 &&
      rect.bottom <=
        (window.innerHeight || document.documentElement.clientHeight) &&
      rect.right <=
        (window.innerWidth || document.documentElement.clientWidth)
    );
  }

  // FUNCTION TO ANIMATE THE COUNTER
  function animateCounter() {
    const counterElement = document.getElementById("counter");
    const targetNumber = 1000000;
    const duration = 3000; // ANIMATION DURATION IN MILLISECONDS
    const startTime = performance.now();

    function updateCounter(timestamp) {
      const elapsedTime = timestamp - startTime;
      const progress = Math.min(elapsedTime / duration, 1);
      const currentNumber = Math.floor(progress * targetNumber);

      // UPDATE COUNTER ELEMENT TEXT WITH CURRENT NUMBER AND ADD "+"
      counterElement.textContent = currentNumber.toLocaleString() + "+";

      if (progress < 1) {
        requestAnimationFrame(updateCounter);
      }
    }

    requestAnimationFrame(updateCounter);
  }

  // TRIGGER THE COUNTER ANIMATION WHEN THE SECTION IS IN VIEW
  window.addEventListener("scroll", function () {
    const section = document.getElementById("counterSection");
    if (isInViewport(section)) {
      animateCounter();
      // REMOVE EVENT LISTENER ONCE THE ANIMATION HAS BEEN TRIGGERED
      window.removeEventListener("scroll", arguments.callee);
    }
  });

  // OPTIONAL: TRIGGER THE COUNTER ANIMATION IF SECTION IS ALREADY IN VIEW ON PAGE LOAD
  window.addEventListener("load", function () {
    const section = document.getElementById("counterSection");
    if (isInViewport(section)) {
      animateCounter();
    }
  });
</script>
</section>

  </body>
</html>

